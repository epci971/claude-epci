# Decompose Output Templates

> Reference file for `/decompose` command output templates.

---

## INDEX.md Template

````markdown
# {Project Title} ‚Äî Index

> **Generated**: {date}
> **Source**: {source_file}
> **Sub-specs**: {count}
> **Total effort**: {total_days} days

---

## Overview

| ID | Title | Effort | Priority | Dependencies | Status |
|----|-------|--------|----------|--------------|--------|
| S01 | {name} | {d}j | - | - | Pending |
| S02 | {name} | {d}j | - | S01 | Pending |
| ... | ... | ... | ... | ... | ... |

---

## Dependency Graph

```mermaid
flowchart TD
    S01[S01: {name}] --> S02[S02: {name}]
    S02 --> S03[S03: {name}]
    S03 --> S04[S04: {name}]
    S03 --> S05[S05: {name}]
    ...
```
````

---

## Gantt Planning

```mermaid
gantt
    title {Project Title}
    dateFormat  YYYY-MM-DD

    section Foundations
    S01 {name}    :s01, {start_date}, {d1}d
    S02 {name}    :s02, after s01, {d2}d

    section Core
    S03 {name}    :s03, after s02, {d3}d
    ...
```

---

## Usage

### Manual Execution (spec by spec)

```bash
# Analyze and execute a single spec
/epci:brief @{output_dir}/S01-{name}.md
# ‚Üí Routes to /epci:quick (TINY/SMALL) or /epci:epci (STANDARD/LARGE)
```

### Autonomous Execution (overnight)

```bash
# Execute all specs autonomously
/epci:ralph {output_dir}/
# ‚Üí Uses prd.json, executes via @ralph-executor
# ‚Üí Each story routes through /epci:brief ‚Üí /epci:quick or /epci:epci
```

### EPCI Command Reference

| Command | Usage |
|---------|-------|
| `/epci:brief` | Analyze spec/story, assess complexity |
| `/epci:quick` | Fast workflow for TINY/SMALL (<200 LOC) |
| `/epci:epci` | Full workflow for STANDARD/LARGE (>200 LOC) |
| `/epci:ralph` | Autonomous overnight execution |
| `/epci:commit` | Git commit with EPCI context |

---

_Generated by decompose_

````

---

## backlog.md Template

````markdown
# Backlog ‚Äî {Project Title}

> **G√©n√©r√©**: {date}
> **Source PRD**: {source_file}
> **Stories totales**: {total_stories}
> **Dur√©e estim√©e**: {total_hours}h ({total_days}j)
> **Granularit√©**: {granularity}

---

## Vue d'ensemble

| # | ID | T√¢che | Spec | Type | Cmplx | Prio | D√©pendances | Estim. | Status |
|---|-----|-------|------|------|-------|------|-------------|--------|--------|
| 1 | US-001 | {title} | S01 | Script | M | P1 | - | 1.5h | ‚è≥ |
| 2 | US-002 | {title} | S01 | Logic | S | P1 | US-001 | 1h | ‚è≥ |
| 3 | US-003 | {title} | S01 | Logic | S | P1 | US-001 | 1h | ‚è≥ |
| ... | ... | ... | ... | ... | ... | ... | ... | ... | ... |

---

## Par Spec

### S01 ‚Äî {Spec Title} ({story_count} stories, {spec_hours}h)

| # | ID | T√¢che | Estim. | D√©pendances | Status |
|---|-----|-------|--------|-------------|--------|
| 1 | US-001 | {title} | 1.5h | - | ‚è≥ |
| 2 | US-002 | {title} | 1h | US-001 | ‚è≥ |
| 3 | US-003 | {title} | 1h | US-001 | ‚è≥ |
| 4 | US-004 | {title} | 1h | US-003 | ‚è≥ |

### S02 ‚Äî {Spec Title} ({story_count} stories, {spec_hours}h)

| # | ID | T√¢che | Estim. | D√©pendances | Status |
|---|-----|-------|--------|-------------|--------|
| 1 | US-005 | {title} | 1.5h | - | ‚è≥ |
| ... | ... | ... | ... | ... | ... |

---

## Statistiques

| M√©trique | Valeur |
|----------|--------|
| Stories totales | {total_stories} |
| Compl√©t√©es | {completed} |
| En cours | {in_progress} |
| √âchou√©es | {failed} |
| Restantes | {remaining} |
| Parall√©lisables | {parallelizable} |
| Chemin critique | {critical_path} stories |

---

## Par Priorit√©

| Priorit√© | Stories | Heures |
|----------|---------|--------|
| P1 (Must) | {p1_count} | {p1_hours}h |
| P2 (Should) | {p2_count} | {p2_hours}h |
| P3 (Could) | {p3_count} | {p3_hours}h |

---

## L√©gende

| Symbole | Status |
|---------|--------|
| ‚è≥ | Pending |
| üîÑ | In Progress |
| ‚úÖ | Completed |
| ‚ùå | Failed |
| üö´ | Blocked |

| Complexit√© | Dur√©e |
|------------|-------|
| S (Small) | < 45 min |
| M (Medium) | 45-90 min |
| L (Large) | > 90 min |

| Type | Description |
|------|-------------|
| Script | Shell scripts, hooks, automation |
| Logic | Business logic, functions |
| API | Endpoints, routes, REST |
| UI | Components, forms, views |
| Test | Test files, specs |
| Task | General tasks |

---

_Generated by /decompose ‚Äî Project: {slug}_
````

---

## SXX-{name}.md Template (Sub-Spec)

```markdown
# Specification ‚Äî {ID}: {Title}

> **Parent project**: {slug}
> **Spec ID**: {ID}
> **Estimated effort**: {effort} day(s)
> **Dependencies**: {deps_list}
> **Blocks**: {blocking_list}

---

## 1. Context

This sub-spec is part of the **{project_title}** project.

**Source**: `{source_file}` ‚Äî {section_reference}

---

## 2. Scope

### Included

{included_list}

### Excluded

{excluded_list}

---

## 3. Tasks

{task_checklist}

---

## 4. Acceptance Criteria

| ID | Criterion | Verification |
|----|-----------|--------------|
| {ID}-AC1 | {criterion_1} | {verification_1} |
| {ID}-AC2 | {criterion_2} | {verification_2} |
| ... | ... | ... |

---

## 5. Source Reference

> Extract from `{source_file}`

{condensed_relevant_content}

---

*Generated by decompose ‚Äî Project: {slug}*
```
